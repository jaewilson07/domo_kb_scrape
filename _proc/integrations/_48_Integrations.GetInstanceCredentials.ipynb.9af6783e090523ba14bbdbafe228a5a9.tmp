#| export
def get_jupyter_account(account_name : str, # name of account as it appears in the 
maximum_retry : int = 10
) -> (str, str): # returns account properties list and a dictionary of the properties.

    """import a domojupyter account, will loop until success"""
    import domojupyter as dj
    import time
    account_properties = None

    retry_attempt = 0
    while not account_properties and retry_attempt <= maximum_retry:
        try:
            account_properties = dj.get_account_property_keys(account_name)
            retry_attempt += 1

            if retry_attempt = maximum_retry:
                raise ErrorRetrievingAccount(account_name= account_name)
        
        except ErrorRetrievingAccount 

        except Exception as e:
            print(f"trying again - {account_name}")
            time.sleep(2)


    obj = {}

    for index, prop in enumerate(account_properties):
        value = None

        while not value:
            try:
                value = dj.get_account_property_value(
                    account_name, account_properties[index])

            except Exception as e:
                print(f"trying again - {prop}")
                time.sleep(2)

        obj.update({prop: value})

    return account_properties, obj